<div
  class="message"
  role="alert"
  aria-live="polite"
  [attr.aria-describedby]="errorId"
  [class]="
    'message--' +
    type +
    (compact ? ' message--compact' : '') +
    (fullWidth ? ' message--full-width' : '')
  "
>
  <div class="message__icon" aria-hidden="true">
    <!-- Error Icon -->
    <svg
      *ngIf="type === 'error'"
      width="20"
      height="20"
      viewBox="0 0 20 20"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      class="message__svg"
    >
      <path
        d="M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18Z"
        stroke="currentColor"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
      <path
        d="M10 6V10"
        stroke="currentColor"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
      <path
        d="M10 14H10.01"
        stroke="currentColor"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
    </svg>

    <!-- Warning Icon -->
    <svg
      *ngIf="type === 'warning'"
      width="20"
      height="20"
      viewBox="0 0 20 20"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      class="message__svg"
    >
      <path
        d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"
        fill="currentColor"
      />
    </svg>

    <!-- Success Icon -->
    <svg
      *ngIf="type === 'success'"
      width="20"
      height="20"
      viewBox="0 0 20 20"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      class="message__svg"
    >
      <path
        d="M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18Z"
        stroke="currentColor"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
      <path
        d="M7 10L9 12L13 8"
        stroke="currentColor"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
    </svg>

    <!-- Info Icon -->
    <svg
      *ngIf="type === 'info'"
      width="20"
      height="20"
      viewBox="0 0 20 20"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      class="message__svg"
    >
      <path
        d="M10 18C14.4183 18 18 14.4183 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 14.4183 5.58172 18 10 18Z"
        stroke="currentColor"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
      <path
        d="M10 6V10"
        stroke="currentColor"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
      <path
        d="M10 14H10.01"
        stroke="currentColor"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
    </svg>
  </div>

  <div class="message__content">
    <h3 *ngIf="title" class="message__title" [id]="errorId + '-title'">
      {{ title }}
    </h3>
    <p class="message__text" [id]="errorId + '-message'">
      {{ message }}
    </p>
    <div *ngIf="details" class="message__details" [id]="errorId + '-details'">
      <p class="message__details-text">{{ details }}</p>
    </div>
    <div
      *ngIf="showActions"
      class="message__actions"
      role="group"
      [attr.aria-labelledby]="errorId + '-title'"
    >
      <button
        *ngIf="primaryAction"
        type="button"
        class="message__button message__button--primary"
        (click)="onPrimaryAction()"
        [attr.aria-describedby]="errorId + '-message'"
      >
        {{ primaryActionText || defaultPrimaryActionText }}
      </button>
      <button
        *ngIf="secondaryAction"
        type="button"
        class="message__button message__button--secondary"
        (click)="onSecondaryAction()"
        [attr.aria-describedby]="errorId + '-message'"
      >
        {{ secondaryActionText || defaultSecondaryActionText }}
      </button>
    </div>
  </div>

  <button
    *ngIf="dismissible"
    type="button"
    class="message__close"
    (click)="onDismiss()"
    aria-label="Cerrar mensaje"
    [attr.aria-describedby]="errorId + '-message'"
  >
    <svg
      width="16"
      height="16"
      viewBox="0 0 16 16"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      aria-hidden="true"
    >
      <path
        d="M12 4L4 12M4 4L12 12"
        stroke="currentColor"
        stroke-width="1.5"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
    </svg>
  </button>
</div>
