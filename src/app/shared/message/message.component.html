<div
  class="message"
  role="alert"
  aria-live="polite"
  [attr.aria-describedby]="errorId"
  [class]="
    'message--' +
    type +
    ' message--' +
    variant +
    (compact ? ' message--compact' : '') +
    (fullWidth ? ' message--full-width' : '')
  "
>
  <div class="message__icon" aria-hidden="true">
    <!-- Error Icon -->
    <fa-icon
      *ngIf="type === 'error'"
      [icon]="faExclamationCircle"
      class="fa-lg"
    ></fa-icon>

    <!-- Warning Icon -->
    <fa-icon
      *ngIf="type === 'warning'"
      [icon]="faExclamationTriangle"
      class="fa-lg"
    ></fa-icon>

    <!-- Success Icon -->
    <fa-icon
      *ngIf="type === 'success'"
      [icon]="faCheckCircle"
      class="fa-lg"
    ></fa-icon>

    <!-- Info Icon -->
    <fa-icon
      *ngIf="type === 'info'"
      [icon]="faInfoCircle"
      class="fa-lg"
    ></fa-icon>
  </div>

  <div class="message__content">
    <h3 *ngIf="title" class="message__title" [id]="errorId + '-title'">
      {{ title }}
    </h3>
    <p class="message__text" [id]="errorId + '-message'">
      {{ message }}
    </p>
    <div *ngIf="details" class="message__details" [id]="errorId + '-details'">
      <p class="message__details-text">{{ details }}</p>
    </div>
    <div
      *ngIf="showActions"
      class="message__actions"
      role="group"
      [attr.aria-labelledby]="errorId + '-title'"
    >
      <button
        *ngIf="primaryAction"
        type="button"
        class="message__button message__button--primary"
        (click)="onPrimaryAction()"
        [attr.aria-describedby]="errorId + '-message'"
      >
        {{ primaryActionText || defaultPrimaryActionText }}
      </button>
      <button
        *ngIf="secondaryAction"
        type="button"
        class="message__button message__button--secondary"
        (click)="onSecondaryAction()"
        [attr.aria-describedby]="errorId + '-message'"
      >
        {{ secondaryActionText || defaultSecondaryActionText }}
      </button>
    </div>
  </div>

  <button
    *ngIf="dismissible"
    type="button"
    class="message__close"
    (click)="onDismiss()"
    aria-label="Cerrar mensaje"
    [attr.aria-describedby]="errorId + '-message'"
  >
    <fa-icon [icon]="faTimes" class="fa-sm" aria-hidden="true"></fa-icon>
  </button>
</div>
